<!DOCTYPE html>
<html>
<head>
<title>Sherlock: Routine at 42189</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../sherlock.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="42172.html">42172</a>
</td>
<td class="up">Up: <a href="../maps/all.html#42189">Map</a></td>
<td class="next">
Next: <a href="42333.html">42333</a>
</td>
</tr>
</table>
<div class="description">42189: Routine at A4CD</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="45309.html">45309</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="42189"></span>42189</td>
<td class="instruction">PUSH DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42190"></span>42190</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42191"></span>42191</td>
<td class="instruction">PUSH IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42193"></span>42193</td>
<td class="instruction">LD DE,6</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42196"></span>42196</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42197"></span>42197</td>
<td class="instruction">ADD IY,DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42199"></span>42199</td>
<td class="instruction">CALL <a href="42189.html#42267">42267</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42202"></span>42202</td>
<td class="instruction">JR NZ,<a href="42189.html#42262">42262</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42204"></span>42204</td>
<td class="instruction">POP IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42206"></span>42206</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42207"></span>42207</td>
<td class="instruction">POP DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="42208"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="45309.html">45309</a> and <a href="54122.html">54122</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="42208"></span>42208</td>
<td class="instruction">PUSH DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42209"></span>42209</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42210"></span>42210</td>
<td class="instruction">PUSH IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42212"></span>42212</td>
<td class="instruction">CALL <a href="42189.html#42267">42267</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42215"></span>42215</td>
<td class="instruction">JR NZ,<a href="42189.html#42262">42262</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42217"></span>42217</td>
<td class="instruction">LD A,1</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42219"></span>42219</td>
<td class="instruction">LD (41006),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42222"></span>42222</td>
<td class="instruction">CALL <a href="42189.html#42267">42267</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42225"></span>42225</td>
<td class="instruction">JR NZ,<a href="42189.html#42234">42234</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42227"></span>42227</td>
<td class="instruction">CALL <a href="42189.html#42267">42267</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42230"></span>42230</td>
<td class="instruction">LD A,0</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42232"></span>42232</td>
<td class="instruction">JR Z,<a href="42189.html#42262">42262</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="42234"></span>42234</td>
<td class="instruction">POP IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42236"></span>42236</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42237"></span>42237</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42238"></span>42238</td>
<td class="instruction">PUSH IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42240"></span>42240</td>
<td class="instruction">LD DE,4</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42243"></span>42243</td>
<td class="instruction">ADD IY,DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42245"></span>42245</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42246"></span>42246</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42247"></span>42247</td>
<td class="instruction">CALL <a href="42189.html#42267">42267</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42250"></span>42250</td>
<td class="instruction">JR NZ,<a href="42189.html#42262">42262</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42252"></span>42252</td>
<td class="instruction">LD DE,65532</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42255"></span>42255</td>
<td class="instruction">ADD IY,DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42257"></span>42257</td>
<td class="instruction">CALL <a href="42189.html#42267">42267</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42260"></span>42260</td>
<td class="instruction">LD A,1</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="42262"></span>42262</td>
<td class="instruction">POP IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42264"></span>42264</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42265"></span>42265</td>
<td class="instruction">POP DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42266"></span>42266</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="42267"></span>42267</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42268"></span>42268</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42269"></span>42269</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42270"></span>42270</td>
<td class="instruction">OR (HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42271"></span>42271</td>
<td class="instruction">JR Z,<a href="42189.html#42286">42286</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42273"></span>42273</td>
<td class="instruction">LD A,(IY+1)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42276"></span>42276</td>
<td class="instruction">XOR (HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42277"></span>42277</td>
<td class="instruction">AND 15</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42279"></span>42279</td>
<td class="instruction">JR NZ,<a href="42189.html#42286">42286</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42281"></span>42281</td>
<td class="instruction">DEC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42282"></span>42282</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42283"></span>42283</td>
<td class="instruction">CP (IY+0)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="42286"></span>42286</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42287"></span>42287</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42288"></span>42288</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42289"></span>42289</td>
<td class="instruction">INC IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42291"></span>42291</td>
<td class="instruction">INC IY</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42293"></span>42293</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42294"></span>42294</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42295"></span>42295</td>
<td class="instruction">LD HL,(41019)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="42298"></span>42298</td>
<td class="instruction">CALL <a href="50207.html">GetKeypress</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42301"></span>42301</td>
<td class="instruction">BIT 7,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42303"></span>42303</td>
<td class="instruction">JR NZ,<a href="42189.html#42323">42323</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42305"></span>42305</td>
<td class="instruction">LD A,0</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="42307"></span>42307</td>
<td class="instruction">DEC A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42308"></span>42308</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42309"></span>42309</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42310"></span>42310</td>
<td class="instruction">JR NZ,<a href="42189.html#42307">42307</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42312"></span>42312</td>
<td class="instruction">DEC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42313"></span>42313</td>
<td class="instruction">LD A,H</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42314"></span>42314</td>
<td class="instruction">OR L</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42315"></span>42315</td>
<td class="instruction">JR NZ,<a href="42189.html#42298">42298</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42317"></span>42317</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42318"></span>42318</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42319"></span>42319</td>
<td class="instruction">CALL 55735</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42322"></span>42322</td>
<td class="instruction">XOR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="42323"></span>42323</td>
<td class="instruction">AND 127</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42325"></span>42325</td>
<td class="instruction">LD HL,3000</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42328"></span>42328</td>
<td class="instruction">LD (41019),HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42331"></span>42331</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="42332"></span>42332</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="42172.html">42172</a>
</td>
<td class="up">Up: <a href="../maps/all.html#42189">Map</a></td>
<td class="next">
Next: <a href="42333.html">42333</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1984 Melbourne House &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.6.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/sherlock/">Source code</a>.</div>
<div><a href="../../asm/A4CD.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>