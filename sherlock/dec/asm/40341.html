<!DOCTYPE html>
<html>
<head>
<title>Sherlock: Routine at 40341</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../sherlock.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="40336.html">40336</a>
</td>
<td class="up">Up: <a href="../maps/all.html#40341">Map</a></td>
<td class="next">
Next: <a href="40447.html">40447</a>
</td>
</tr>
</table>
<div class="description">40341: Routine at 9D95</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="40447.html">CharacterAction_InspectorLestrade</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="40341"></span>40341</td>
<td class="instruction">LD HL,40337</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="40336.html#40337">40337</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40344"></span>40344</td>
<td class="instruction">LD C,0</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=0.</td>
</tr>
<tr>
<td class="address-1"><span id="40346"></span>40346</td>
<td class="instruction">CALL <a href="40341.html#40390">40390</a></td>
<td class="comment-1" rowspan="1">Call <a href="40341.html#40390">40390</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40349"></span>40349</td>
<td class="instruction">LD HL,40340</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="40336.html#40340">40340</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40352"></span>40352</td>
<td class="instruction">LD C,0</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=0.</td>
</tr>
<tr>
<td class="address-1"><span id="40354"></span>40354</td>
<td class="instruction">CALL <a href="40341.html#40408">40408</a></td>
<td class="comment-1" rowspan="1">Call <a href="40341.html#40408">40408</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40357"></span>40357</td>
<td class="instruction">LD HL,40339</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="40336.html#40339">40339</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40360"></span>40360</td>
<td class="instruction">LD C,3</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=3.</td>
</tr>
<tr>
<td class="address-1"><span id="40362"></span>40362</td>
<td class="instruction">CALL <a href="40169.html">40169</a></td>
<td class="comment-1" rowspan="1">Call <a href="40169.html">40169</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40365"></span>40365</td>
<td class="instruction">LD IX,39395</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="39395.html">39395</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40369"></span>40369</td>
<td class="instruction">RES 0,(IX+3)</td>
<td class="comment-1" rowspan="1">Reset bit 0 of *<span class="register">IX</span>+3.</td>
</tr>
<tr>
<td class="address-1"><span id="40373"></span>40373</td>
<td class="instruction">LD IX,39409</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="39409.html">39409</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40377"></span>40377</td>
<td class="instruction">RES 0,(IX+3)</td>
<td class="comment-1" rowspan="1">Reset bit 0 of *<span class="register">IX</span>+3.</td>
</tr>
<tr>
<td class="address-1"><span id="40381"></span>40381</td>
<td class="instruction">LD IX,39337</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="39337.html">39337</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40385"></span>40385</td>
<td class="instruction">RES 0,(IX+3)</td>
<td class="comment-1" rowspan="1">Reset bit 0 of *<span class="register">IX</span>+3.</td>
</tr>
<tr>
<td class="address-1"><span id="40389"></span>40389</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="40390"></span>40390</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="40391"></span>40391</td>
<td class="instruction">CALL <a href="40178.html">40178</a></td>
<td class="comment-1" rowspan="1">Call <a href="40178.html">40178</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40394"></span>40394</td>
<td class="instruction">DEC HL</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="40395"></span>40395</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="40396"></span>40396</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="2">Jump to <a href="40169.html#40172">40172</a> if <span class="register">A</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="40397"></span>40397</td>
<td class="instruction">JP NZ,<a href="40169.html#40172">40172</a></td>
</tr>
<tr>
<td class="address-1"><span id="40400"></span>40400</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1">Increment <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="40401"></span>40401</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="40402"></span>40402</td>
<td class="instruction">LD HL,29165</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="29165.html">29165</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40405"></span>40405</td>
<td class="instruction">JP <a href="42399.html">42399</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="42399.html">42399</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="40408"></span>40408</td>
<td class="instruction">CALL <a href="40178.html">40178</a></td>
<td class="comment-1" rowspan="1">Call <a href="40178.html">40178</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40411"></span>40411</td>
<td class="instruction">LD (HL),1</td>
<td class="comment-1" rowspan="1">Write 1 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="40413"></span>40413</td>
<td class="instruction">CALL <a href="47414.html#48198">48198</a></td>
<td class="comment-1" rowspan="1">Call <a href="47414.html#48198">48198</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40416"></span>40416</td>
<td class="instruction">CALL <a href="47414.html#48284">48284</a></td>
<td class="comment-1" rowspan="1">Call <a href="47414.html#48284">48284</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40419"></span>40419</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="3">Jump to <a href="40341.html#40437">40437</a> if <span class="register">B</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="40420"></span>40420</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="40421"></span>40421</td>
<td class="instruction">JR NZ,<a href="40341.html#40437">40437</a></td>
</tr>
<tr>
<td class="address-1"><span id="40423"></span>40423</td>
<td class="instruction">CALL <a href="47414.html#48244">48244</a></td>
<td class="comment-1" rowspan="1">Call <a href="47414.html#48244">48244</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40426"></span>40426</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1">Set flags.</td>
</tr>
<tr>
<td class="address-1"><span id="40427"></span>40427</td>
<td class="instruction">RET Z</td>
<td class="comment-1" rowspan="1">Return if <span class="register">A</span> is equal to <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="40428"></span>40428</td>
<td class="instruction">PUSH IX</td>
<td class="comment-1" rowspan="1">Stash <span class="register">IX</span> on the stack.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="40430"></span>
<div class="comments">
<div class="paragraph">
Print "[CTRL:0B] [CMD:52:F5]  [CMD:01:7C] ytes: [CMD:56:DF] K\ [CTRL:05] [CMD:09:EB] ,[CMD:74:17]  ?"[CTRL:1E] [CTRL:0B] [CMD:3C:F5]  "[CTRL:1E] [CTRL:0B] [CMD:36:F5] K\ [CMD:05:58]  VA ,[CMD:74:17] ,[CMD:74:2D] [CMD:09:B1] [CMD:08:C1] [CMD:00:05] .".
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="40430"></span>40430</td>
<td class="instruction">LD HL,29229</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="29229.html">29229</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40433"></span>40433</td>
<td class="instruction">CALL <a href="42399.html">42399</a></td>
<td class="comment-1" rowspan="1">Call <a href="42399.html">42399</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="40436"></span>40436</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="40437"></span>40437</td>
<td class="instruction">BIT 4,(IX+3)</td>
<td class="comment-1" rowspan="2">Return if bit 4 of *<span class="register">IX</span>+3 is set.</td>
</tr>
<tr>
<td class="address-1"><span id="40441"></span>40441</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="40442"></span>40442</td>
<td class="instruction">LD A,1</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=1.</td>
</tr>
<tr>
<td class="address-1"><span id="40444"></span>40444</td>
<td class="instruction">JP <a href="47414.html#48101">48101</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="47414.html#48101">48101</a>.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="40336.html">40336</a>
</td>
<td class="up">Up: <a href="../maps/all.html#40341">Map</a></td>
<td class="next">
Next: <a href="40447.html">40447</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1984 Melbourne House &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.6.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/sherlock/">Source code</a>.</div>
<div><a href="../../asm/9D95.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>