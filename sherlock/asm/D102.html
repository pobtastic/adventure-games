<!DOCTYPE html>
<html>
<head>
<title>Sherlock: Routine at D102</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../sherlock.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="D0DD.html">D0DD</a>
</td>
<td class="up">Up: <a href="../maps/all.html#d102">Map</a></td>
<td class="next">
Next: <a href="D1B2.html">D1B2</a>
</td>
</tr>
</table>
<div class="description">D102: Routine at D102</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="C996.html">C996</a> and <a href="DC6C.html">DC6C</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="d102"></span>D102</td>
<td class="instruction">CALL <a href="D0DD.html">$D0DD</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d105"></span>D105</td>
<td class="instruction">PUSH IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d107"></span>D107</td>
<td class="instruction">PUSH IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d109"></span>D109</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d10a"></span>D10A</td>
<td class="instruction">CALL <a href="D102.html#d113">$D113</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d10d"></span>D10D</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d10e"></span>D10E</td>
<td class="instruction">POP IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d110"></span>D110</td>
<td class="instruction">POP IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d112"></span>D112</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="d113"></span>D113</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d114"></span>D114</td>
<td class="instruction">CALL <a href="D224.html">FetchLocationDataPointer</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d117"></span>D117</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d118"></span>D118</td>
<td class="instruction">CALL <a href="A277.html">$A277</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d11b"></span>D11B</td>
<td class="instruction">PUSH IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d11d"></span>D11D</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d11e"></span>D11E</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d11f"></span>D11F</td>
<td class="instruction">LD A,($A036)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d122"></span>D122</td>
<td class="instruction">CALL <a href="C863.html">$C863</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d125"></span>D125</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d126"></span>D126</td>
<td class="instruction">CP $FF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d128"></span>D128</td>
<td class="instruction">JR Z,<a href="D102.html#d167">$D167</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d12a"></span>D12A</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d12b"></span>D12B</td>
<td class="instruction">LD HL,($68DE)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d12e"></span>D12E</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d12f"></span>D12F</td>
<td class="instruction">LD HL,$8000</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d132"></span>D132</td>
<td class="instruction">CALL <a href="D0D0.html">$D0D0</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d135"></span>D135</td>
<td class="instruction">LD HL,$68DD</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="68DD.html">68DD</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="d138"></span>D138</td>
<td class="instruction">CALL <a href="A59F.html">$A59F</a></td>
<td class="comment-1" rowspan="1">Call <a href="A59F.html">A59F</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="d13b"></span>D13B</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d13c"></span>D13C</td>
<td class="instruction">LD ($68DE),HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d13f"></span>D13F</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d140"></span>D140</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d141"></span>D141</td>
<td class="instruction">CALL <a href="D237.html">FetchObjectDataPointer</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d144"></span>D144</td>
<td class="instruction">CALL <a href="D5D3.html">$D5D3</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d147"></span>D147</td>
<td class="instruction">CALL <a href="D36A.html#d3d5">$D3D5</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d14a"></span>D14A</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d14b"></span>D14B</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d14c"></span>D14C</td>
<td class="instruction">CALL <a href="D4CC.html">$D4CC</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d14f"></span>D14F</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d150"></span>D150</td>
<td class="instruction">JR Z,<a href="D102.html#d163">$D163</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d152"></span>D152</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d153"></span>D153</td>
<td class="instruction">LD DE,$09BF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d156"></span>D156</td>
<td class="instruction">CALL <a href="A880.html#a887">$A887</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d159"></span>D159</td>
<td class="instruction">LD A,($A00A)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d15c"></span>D15C</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d15d"></span>D15D</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d15e"></span>D15E</td>
<td class="instruction">CALL <a href="D51A.html">$D51A</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d161"></span>D161</td>
<td class="instruction">JR <a href="D102.html#d167">$D167</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="d163"></span>D163</td>
<td class="instruction">CALL <a href="A37D.html#a414">$A414</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d166"></span>D166</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="d167"></span>D167</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d168"></span>D168</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d169"></span>D169</td>
<td class="instruction">POP IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d16b"></span>D16B</td>
<td class="instruction">LD L,(IX+$07)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d16e"></span>D16E</td>
<td class="instruction">LD H,(IX+$08)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d171"></span>D171</td>
<td class="instruction">CALL <a href="D102.html#d182">$D182</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d174"></span>D174</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d175"></span>D175</td>
<td class="instruction">CALL <a href="D60B.html">$D60B</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="d178"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="D1B2.html">D1B2</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="d178"></span>D178</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d179"></span>D179</td>
<td class="instruction">CALL <a href="D68C.html">$D68C</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d17c"></span>D17C</td>
<td class="instruction">CALL <a href="D4A7.html">$D4A7</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d17f"></span>D17F</td>
<td class="instruction">JP <a href="A2A2.html">$A2A2</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="d182"></span>D182</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d183"></span>D183</td>
<td class="instruction">OR L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d184"></span>D184</td>
<td class="instruction">JP NZ,<a href="A59F.html">$A59F</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="d187"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="D1B2.html">D1B2</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="d187"></span>D187</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d188"></span>D188</td>
<td class="instruction">LD A,($A036)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d18b"></span>D18B</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d18c"></span>D18C</td>
<td class="instruction">LD A,($A036)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d18f"></span>D18F</td>
<td class="instruction">CALL <a href="C863.html">$C863</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d192"></span>D192</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d193"></span>D193</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d194"></span>D194</td>
<td class="instruction">JR Z,<a href="D102.html#d19f">$D19F</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d196"></span>D196</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d197"></span>D197</td>
<td class="instruction">LD ($A036),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d19a"></span>D19A</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d19c"></span>D19C</td>
<td class="instruction">LD ($A2AA),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="d19f"></span>D19F</td>
<td class="instruction">CALL <a href="A59F.html">$A59F</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d1a2"></span>D1A2</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d1a3"></span>D1A3</td>
<td class="instruction">LD ($A036),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d1a6"></span>D1A6</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d1a7"></span>D1A7</td>
<td class="instruction">LD ($A2AA),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d1aa"></span>D1AA</td>
<td class="instruction">CALL <a href="D1B2.html#d1c6">$D1C6</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d1ad"></span>D1AD</td>
<td class="instruction">LD A,$2E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="d1af"></span>D1AF</td>
<td class="instruction">JP <a href="A9B7.html">$A9B7</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="D0DD.html">D0DD</a>
</td>
<td class="up">Up: <a href="../maps/all.html#d102">Map</a></td>
<td class="next">
Next: <a href="D1B2.html">D1B2</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1984 Melbourne House &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.6.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/sherlock/">Source code</a>.</div>
<div><a href="../dec/asm/53506.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>