<!DOCTYPE html>
<html>
<head>
<title>Sherlock: Routine at A9B7</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../sherlock.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="A9B5.html">A9B5</a>
</td>
<td class="up">Up: <a href="../maps/all.html#a9b7">Map</a></td>
<td class="next">
Next: <a href="AA71.html">AA71</a>
</td>
</tr>
</table>
<div class="description">A9B7: Routine at A9B7</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="A2A2.html">A2A2</a>, <a href="A37D.html">A37D</a>, <a href="A5CD.html">ProcessTextCommand</a>, <a href="A63A.html">A63A</a>, <a href="A647.html">A647</a>, <a href="A736.html">A736</a>, <a href="A880.html">A880</a>, <a href="B936.html">B936</a>, <a href="D102.html">D102</a>, <a href="D526.html">D526</a>, <a href="DC6C.html">DC6C</a> and <a href="E691.html">E691</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="a9b7"></span>A9B7</td>
<td class="instruction">PUSH AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9b8"></span>A9B8</td>
<td class="instruction">LD A,($A027)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9bb"></span>A9BB</td>
<td class="instruction">AND A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9bc"></span>A9BC</td>
<td class="instruction">JR NZ,<a href="A9B7.html#aa10">$AA10</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9be"></span>A9BE</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9bf"></span>A9BF</td>
<td class="instruction">PUSH AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9c0"></span>A9C0</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9c1"></span>A9C1</td>
<td class="instruction">LD HL,($A9B5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9c4"></span>A9C4</td>
<td class="instruction">CP $20</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9c6"></span>A9C6</td>
<td class="instruction">JR Z,<a href="A9B7.html#a9df">$A9DF</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9c8"></span>A9C8</td>
<td class="instruction">CP $0D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9ca"></span>A9CA</td>
<td class="instruction">JR Z,<a href="A9B7.html#a9df">$A9DF</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9cc"></span>A9CC</td>
<td class="instruction">CP $22</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9ce"></span>A9CE</td>
<td class="instruction">JR Z,<a href="A9B7.html#a9df">$A9DF</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9d0"></span>A9D0</td>
<td class="instruction">CP $08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9d2"></span>A9D2</td>
<td class="instruction">JR NZ,<a href="A9B7.html#a9d7">$A9D7</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9d4"></span>A9D4</td>
<td class="instruction">DEC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9d5"></span>A9D5</td>
<td class="instruction">JR <a href="A9B7.html#a9d9">$A9D9</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="a9d7"></span>A9D7</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9d8"></span>A9D8</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="a9d9"></span>A9D9</td>
<td class="instruction">LD ($A9B5),HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9dc"></span>A9DC</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9dd"></span>A9DD</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9de"></span>A9DE</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="a9df"></span>A9DF</td>
<td class="instruction">PUSH DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9e0"></span>A9E0</td>
<td class="instruction">LD DE,$5C0B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9e3"></span>A9E3</td>
<td class="instruction">AND A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9e4"></span>A9E4</td>
<td class="instruction">SBC HL,DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9e6"></span>A9E6</td>
<td class="instruction">JR Z,<a href="A9B7.html#aa0b">$AA0B</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9e8"></span>A9E8</td>
<td class="instruction">LD A,($C1F5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9eb"></span>A9EB</td>
<td class="instruction">CP L</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9ec"></span>A9EC</td>
<td class="instruction">PUSH AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9ed"></span>A9ED</td>
<td class="instruction">JR NC,<a href="A9B7.html#a9f4">$A9F4</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9ef"></span>A9EF</td>
<td class="instruction">LD A,$0D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9f1"></span>A9F1</td>
<td class="instruction">CALL <a href="A9B7.html#aa14">$AA14</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="a9f4"></span>A9F4</td>
<td class="instruction">PUSH BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9f5"></span>A9F5</td>
<td class="instruction">LD B,L</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9f6"></span>A9F6</td>
<td class="instruction">LD HL,$5C0B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9f9"></span>A9F9</td>
<td class="instruction">LD ($A9B5),HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="a9fc"></span>A9FC</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="a9fd"></span>A9FD</td>
<td class="instruction">CALL <a href="A9B7.html#aa14">$AA14</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa00"></span>AA00</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa01"></span>AA01</td>
<td class="instruction">DJNZ <a href="A9B7.html#a9fc">$A9FC</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa03"></span>AA03</td>
<td class="instruction">POP BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa04"></span>AA04</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa05"></span>AA05</td>
<td class="instruction">JR NZ,<a href="A9B7.html#aa0b">$AA0B</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa07"></span>AA07</td>
<td class="instruction">XOR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa08"></span>AA08</td>
<td class="instruction">LD ($A025),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa0b"></span>AA0B</td>
<td class="instruction">POP DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa0c"></span>AA0C</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa0d"></span>AA0D</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa0e"></span>AA0E</td>
<td class="instruction">JR <a href="A9B7.html#aa14">$AA14</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa10"></span>AA10</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa11"></span>AA11</td>
<td class="instruction">JP <a href="C1E1.html">$C1E1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa14"></span>AA14</td>
<td class="instruction">CP $41</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa16"></span>AA16</td>
<td class="instruction">JR C,<a href="A9B7.html#aa1e">$AA1E</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa18"></span>AA18</td>
<td class="instruction">CP $5B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa1a"></span>AA1A</td>
<td class="instruction">JR NC,<a href="A9B7.html#aa1e">$AA1E</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa1c"></span>AA1C</td>
<td class="instruction">OR $20</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa1e"></span>AA1E</td>
<td class="instruction">PUSH AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa1f"></span>AA1F</td>
<td class="instruction">LD A,($A025)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa22"></span>AA22</td>
<td class="instruction">AND A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa23"></span>AA23</td>
<td class="instruction">JR NZ,<a href="A9B7.html#aa2a">$AA2A</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa25"></span>AA25</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa26"></span>AA26</td>
<td class="instruction">CP $20</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa28"></span>AA28</td>
<td class="instruction">RET Z</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa29"></span>AA29</td>
<td class="instruction">PUSH AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa2a"></span>AA2A</td>
<td class="instruction">LD A,$01</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa2c"></span>AA2C</td>
<td class="instruction">LD ($A025),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa2f"></span>AA2F</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa30"></span>AA30</td>
<td class="instruction">PUSH AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa31"></span>AA31</td>
<td class="instruction">CP $0D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa33"></span>AA33</td>
<td class="instruction">JR NZ,<a href="A9B7.html#aa3b">$AA3B</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa35"></span>AA35</td>
<td class="instruction">XOR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa36"></span>AA36</td>
<td class="instruction">LD ($A025),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa39"></span>AA39</td>
<td class="instruction">JR <a href="A9B7.html#aa6d">$AA6D</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa3b"></span>AA3B</td>
<td class="instruction">CP $22</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa3d"></span>AA3D</td>
<td class="instruction">JR NZ,<a href="A9B7.html#aa46">$AA46</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa3f"></span>AA3F</td>
<td class="instruction">LD A,$20</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa41"></span>AA41</td>
<td class="instruction">CALL <a href="C1E1.html">$C1E1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa44"></span>AA44</td>
<td class="instruction">JR <a href="A9B7.html#aa4a">$AA4A</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa46"></span>AA46</td>
<td class="instruction">CP $2E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa48"></span>AA48</td>
<td class="instruction">JR NZ,<a href="A9B7.html#aa51">$AA51</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa4a"></span>AA4A</td>
<td class="instruction">LD A,$01</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa4c"></span>AA4C</td>
<td class="instruction">LD ($A026),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa4f"></span>AA4F</td>
<td class="instruction">JR <a href="A9B7.html#aa6d">$AA6D</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa51"></span>AA51</td>
<td class="instruction">CP $61</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa53"></span>AA53</td>
<td class="instruction">JR C,<a href="A9B7.html#aa6d">$AA6D</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa55"></span>AA55</td>
<td class="instruction">CP $7B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa57"></span>AA57</td>
<td class="instruction">JR NC,<a href="A9B7.html#aa6d">$AA6D</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa59"></span>AA59</td>
<td class="instruction">LD A,($A851)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa5c"></span>AA5C</td>
<td class="instruction">AND A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa5d"></span>AA5D</td>
<td class="instruction">JR NZ,<a href="A9B7.html#aa65">$AA65</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa5f"></span>AA5F</td>
<td class="instruction">LD A,($A026)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa62"></span>AA62</td>
<td class="instruction">AND A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa63"></span>AA63</td>
<td class="instruction">JR Z,<a href="A9B7.html#aa6d">$AA6D</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa65"></span>AA65</td>
<td class="instruction">XOR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa66"></span>AA66</td>
<td class="instruction">LD ($A026),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa69"></span>AA69</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa6a"></span>AA6A</td>
<td class="instruction">AND $5F</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa6c"></span>AA6C</td>
<td class="instruction">PUSH AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="aa6d"></span>AA6D</td>
<td class="instruction">POP AF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="aa6e"></span>AA6E</td>
<td class="instruction">JP <a href="C1E1.html">$C1E1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="A9B5.html">A9B5</a>
</td>
<td class="up">Up: <a href="../maps/all.html#a9b7">Map</a></td>
<td class="next">
Next: <a href="AA71.html">AA71</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1984 Melbourne House &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.6.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/sherlock/">Source code</a>.</div>
<div><a href="../dec/asm/43447.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>